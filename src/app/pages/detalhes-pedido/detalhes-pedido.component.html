<div class="container mt-4" *ngIf="pedido">
  <h2>Detalhes do Pedido: {{ pedido.descricao }}</h2>
  <hr>

  <h4>Dados Gerais</h4>
  <p><strong>Cliente:</strong> {{ pedido.nomeCliente }}</p>
  <p><strong>Status:</strong> {{ pedido.status }}</p>
  <p><strong>Valor Total:</strong> {{ pedido.valor | currency:'BRL' }}</p>
  <p><strong>Data do Pedido:</strong> {{ pedido.data_pedido | date:'dd/MM/yyyy' }}</p>
  <p><strong>Data da Entrega:</strong> {{ pedido.data_entrega | date:'dd/MM/yyyy' }}</p>

  <h4 class="mt-4">Lembretes</h4>
  <table class="table table-sm table-striped">
    <thead class="table-light">
      <tr>
        <th>Descrição</th>
        <th>Data</th>
        <th>Hora</th>
        <th>Status</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let lembrete of lembretes">
        <td>{{ lembrete.descricao }}</td>
        <td>{{ lembrete.data | date:'dd/MM/yyyy' }}</td>
        <td>{{ lembrete.hora }}</td>
        <td>{{ lembrete.status }}</td>
      </tr>
      <tr *ngIf="lembretes.length === 0">
        <td colspan="4" class="text-center">Nenhum lembrete para este pedido.</td>
      </tr>
    </tbody>
  </table>

  <h4 class="mt-4">Pagamentos</h4>
  <table class="table table-sm table-striped">
    <thead class="table-light">
      <tr>
        <th>Valor da Parcela</th>
        <th>Data de Vencimento</th>
        <th>Data de Pagamento</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let pagamento of pagamentos">
        <td>{{ pagamento.valor | currency:'BRL' }}</td>
        <td>{{ pagamento.data_vencimento | date:'dd/MM/yyyy' }}</td>
        <td>{{ pagamento.data_pagamento ? (pagamento.data_pagamento | date:'dd/MM/yyyy') : 'Pendente' }}</td>
      </tr>
       <tr *ngIf="pagamentos.length === 0">
        <td colspan="3" class="text-center">Nenhum pagamento registrado para este pedido.</td>
      </tr>
    </tbody>
  </table>

  <button class="btn btn-secondary mt-3" routerLink="/consultar-pedidos">Voltar para a Lista</button>
</div>
